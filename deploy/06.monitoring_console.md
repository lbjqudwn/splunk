# 1. 모니터링 콘솔이란

모니터링 콘솔은 검색 기반의 모니터링 도구로서 스플렁크 배포 토폴로지 및 성능에 대한 자세한 정보를 볼 수 있다.  
또한 대시보드를 통해서 검색 job, 인덱싱 성능, 리소스 성능, 라이선스 사용 등을 확인할 수 있다.  

- 검색 성능 및 분산 검색 프레임워크  
- 인덱싱 성능  
- OS 리소스 사용량  
- 스플렁크 app key value store 성능  
- 인덱서 및 검색서버 클러스터  
- 인덱싱 볼륨  
- 라이선스 사용량  

# 2. 모니터링 콘솔 설정

모니터링 콘솔 설정 순서는 아래와 같다.  

- 모니터링 콘솔의 search peer에 인스턴스 등록  
- 분산 모드로 변경  
- 포워더 등록

테스트는 모니터링 콘솔을 별도 인스턴스로 구성한다.  

인스턴스|용도|포트|비고
---- | ---- | ---- | ----
mc|web port|8300|monitoring console
----|mgmt port|8389|
----|appserver port|8365|
----|kvstore port|8491|

## 2.1. 모니터링 콘솔의 search peer에 인스턴스 등록

모니터링할 분산 배포 인스턴스(인덱서 클러스터 피어, 서치헤더 클러스터 멤버 등)을 search peer로 등록해야 한다.  
현재 테스트 환경은 동일 서버에 배포서버, 라이선스 마스터, 클러스터 마스터가 설정되어 있기 때문에 동일한 서버명을 가진다.  
그러므로 서치헤더 피어만 등록을 진행하였다.  

(주의) 인덱서 클러스터의 인덱서를 직접 등록하면 안된다. 대신에 클러스터 마스터를 등록하자.  

- 설정 > 분산 환경(분산 검색) 클릭  
- 검색 피어 추가  

![splunk_mc2](https://user-images.githubusercontent.com/6319057/47549075-e7c8f100-d935-11e8-8c94-95717bb92e95.PNG)

![splunk_mc3](https://user-images.githubusercontent.com/6319057/47549242-73428200-d936-11e8-8ae5-ead286c15d29.PNG)

## 2.2. 분산 모드로 변경

- 모니터링 콘솔 화면 내 설정 > 일반 설정 > Mode(분산)으로 설정  

## 2.3. 포워더 등록

- 
