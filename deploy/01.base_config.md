# 1. 기본 설정

스플렁크 분산환경 구성 이전에 OS 및 기본 스플렁크 설정

- OS : CentOS 7
- Splunk Enterprise : 7.2.0
- Splunk Universal Forwarder : 7.2.0

## 1.1 OS 설정

- 방화벽 down
```
systemctl stop firewalld
# 리부팅시에도 실행 안되게끔 
systemctl disable firewalld
```

## 1.2 스플렁크 설정

# 2. 스플렁크 아키텍처

분산배포 환경으로 서치헤더 클러스터, 인덱서 클러스터를 구성한다. 관리서버는 스플렁크 아키텍처의 전반적인 관리를 담당하며, Cluster Master, Deployer, Deployment Server, License Master, Monitoring Console로 구성된다.

![splunk_architecture](https://user-images.githubusercontent.com/6319057/47417248-8af0fd80-d7b2-11e8-942a-9ec1c7252d07.png)

스플렁크 인스턴스 대수 정보는 아래와 같다.

- Search Head : 3대
- Indexer : 3대
- Universal Forwarder : 2대
- CM, DP, DS, LM, MC : 각 1대

가상머신 환경에서 테스트를 진행했으며, 각 인스턴스 별 IP, 포트 정보는 아래와 같다.


